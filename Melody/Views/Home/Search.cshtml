@model Melody.Models.SearchResultViewModel
@{
    ViewData["Title"] = "Search";
}

<style>
    .Search-list {
        width: auto;
        height: auto;
        background-color: #333;
        border-radius: 25px;
        padding: 15px;
    }

    .Album-list, .Artist-list {
        width: 120px;
        border-radius: 25px;
        height: auto;
        background-color: black;
        margin: 7px;
    }

    .Album-container, .Artist-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 10px;
        position: relative;
    }

    .Album-image, .Artist-image {
        width: 100px;
        height: 100px;
        border-radius: 25px;
        object-fit: cover; 
        border: 2px solid #5fd068;
    }

    /* Hidden title that appears on hover */
    .Album-title, .Artist-title {
        position: absolute;
        bottom: -20px; 
        text-align: center;
        font-size: 14px;
        color: #fff;
        opacity: 0;
        transition: opacity 0.3s ease;
        pointer-events: none;
    }

    /* Show title on hover */
    .Album-container:hover .Album-title, .Artist-container:hover .Artist-title {
        opacity: 1;
    }
</style>

<div class="container">
    @await Html.PartialAsync("_leftDiv")
    <div class="div-right">
        @await Html.PartialAsync("_rightDiv")
        <div class="Search-list">
            @if (ViewBag.ResultType == "Album")
            {
                <h3>Album</h3>
                @foreach (var album in Model.Albums)
                {
                    <div class="Album-list">
                        <div class="Album-container">
                            <a href="@Url.Action("Album", "Albums", new { id = album.AlbumId })">
                                <img src="~/images/@album.ImagePath" class="Album-image" alt="@album.Title" />
                            </a>
                            <div class="Album-title">@album.Title</div>
                        </div>
                    </div>
                }
            }

            @if (ViewBag.ResultType == "Artist")
            {
                <h3>Artist</h3>
                @foreach (var artist in Model.Artists)
                {
                    <div class="Artist-list">
                        <div class="Artist-container">
                            <a href="@Url.Action("Artist", "Artists", new { id = artist.ArtistId })">
                                <img src="~/images/@artist.ImagePath" class="Artist-image" alt="@artist.Name" />
                            </a>
                            <div class="Artist-title">@artist.Name</div>
                        </div>
                    </div>
                }
            }

            @if (ViewBag.ResultType == "Song")
            {
                <h3>Songs</h3>
                <ul>
                    @foreach (var song in Model.Songs)
                    {
                        <li>
                            <a href="@Url.Action("Song", "Songs", new { id = song.SongId })">@song.Name</a>
                        </li>
                    }
                </ul>
            }

            @if (ViewBag.ResultType == "None")
            {
                <p>No results found for your search.</p>
            }
        </div>
    </div>
</div>
